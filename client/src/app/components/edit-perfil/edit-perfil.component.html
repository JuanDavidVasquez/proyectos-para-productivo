<app-menus></app-menus>
<div class="container-fluid">
    <h1 class="h1-strong">
        {{ title }}
    </h1>
    <div class="col-lg-12 formularios">
        <div class="alert alert-success" *ngIf="status == 'success'">
            Registro completado correctament, <a [routerLink]="['/perfil',perfilLaboral._id]">
                Ver Perfil!!!
            </a>
        </div>
        <div class="alert alert-danger" *ngIf="status == 'error'">
            Registro no se ha realizado.
        </div>
        <div class="container formulario" style="margin-top: 5%;">
            <form #editPerfilLaboralForm="ngForm" (ngSubmit)="onSubmit()">
                <div class="row-lg-12">
                    <div class="col-lg-6 registros">
                        <p>
                            <label>User</label>
                            <input type="text" name="user" class="form-control" required value="{{identity.name}}"
                                disabled="" id="disable" />
                        </p>
                        <p>
                            <label>Empresa</label>
                           <input type="text" name="empresa" #empresa="ngModel" [(ngModel)]="perfilLaboral.empresa"
                                class="form-control" required />
                            <span *ngIf="!empresa.valid && empresa.touched">
                                La empresa es obligatoria
                            </span>
                        </p>
                        <p>
                            <label>Motivo de retiro</label>
                            <input type="text" name="motivoRetiro" #motivoRetiro="ngModel" [(ngModel)]="perfilLaboral.motivoRetiro"
                                class="form-control" required />
                            <span *ngIf="!motivoRetiro.valid && motivoRetiro.touched">
                                El motivo de retiro es obligatorio
                            </span>
                        </p>
                        <p>
                            <label>Personal a cargo</label>
                            <input type="text" name="personalACargo" #personalACargo="ngModel" [(ngModel)]="perfilLaboral.personalACargo"
                                class="form-control" required />
                            <span *ngIf="!personalACargo.valid && personalACargo.touched">
                                personal a cargo es obligatorio
                            </span>
                        </p>
                        <p>
                            <label>cargo</label>
                            <input type="text" name="cargo" #cargo="ngModel" [(ngModel)]="perfilLaboral.cargo"
                                class="form-control" required />
                            <span *ngIf="!cargo.valid && cargo.touched">
                                El cargo es obligatorio
                            </span>
                        </p>
                        </div>
                        <div class="col-lg-6 registros">
                        <p>
                            <label>Fecha de ingreso </label>
                            <input type="date" name="fechaIngreso" #fechaIngreso="ngModel" [(ngModel)]="perfilLaboral.fechaIngreso"
                                class="form-control" required />
                            <span *ngIf="!fechaIngreso.valid && fechaIngreso.touched">
                                El fecha de ingreso es obligatoria
                            </span>
                        </p>
                        <p>
                            <label>Fecha de retiro</label>
                            <input type="date" name="fechaRetiro" #fechaRetiro="ngModel" [(ngModel)]="perfilLaboral.fechaRetiro"
                                class="form-control" required />
                            <span *ngIf="!fechaRetiro.valid && fechaRetiro.touched">
                                El fecha de retiro es obligatoria
                            </span>
                        </p>
                        <p>
                            <label>Salario</label>
                            <input type="number" name="salario" #salario="ngModel" [(ngModel)]="perfilLaboral.salario"
                                class="form-control" required />
                            <span *ngIf="!salario.valid && salario.touched">
                                El salario es obligatorio
                            </span>
                        </p>
                        <p>
                            <label>Nombre de su jefe inmediato</label>
                            <input type="text" name="jefe" #jefe="ngModel" [(ngModel)]="perfilLaboral.jefe"
                                class="form-control" required />
                            <span *ngIf="!jefe.valid && jefe.touched">
                                El jefe es obligatorio
                            </span>
                        </p>
                        <p>
                            <label>Numero de contacto del jefe inmediato</label>
                            <input type="number" name="contactoJefe" #contactoJefe="ngModel" [(ngModel)]="perfilLaboral.contactoJefe"
                                class="form-control" required />
                            <span *ngIf="!contactoJefe.valid && contactoJefe.touched">
                                El numero de contacto del jefe es obligatorio
                            </span>
                        </p>
                        <div *ngIf="perfilLaboral.certificadoLaboral">
                            <img src="{{ url+'get-image-perfil-laboral/'+ perfilLaboral.certificadoLaboral }}" />
                        </div>
                        <p>
                            <label>Certificado laboral</label>
                            <input type="file" placeholder="Subir imÃ¡gen" (change)="fileChangeEvent($event)" />
                        </p>

                    </div>
                </div>
                <div class="col-lg-12 text-center registros">
                    <input type="submit" value="Registrar" class="btn btn-succes"
                        [disabled]="!editPerfilLaboralForm.form.valid"/>
                </div>
            </form>
        </div>
    </div>
</div>
<div class="regresar">
    <a [routerLink]="['/perfil',identity.id]">
        Regresar
    </a>
</div>
           